<div *ngIf="product" class="product-detail">
  <h2>Product Details: {{ product.description }}</h2>
  <mat-card>
    <form [formGroup]="productForm" (ngSubmit)="saveChanges()">
      <mat-card-header>
        <mat-card-title>
          <input matInput placeholder="Product Description" formControlName="description" />
        </mat-card-title>
        <mat-card-subtitle>SKU: {{ product.sku }}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <p><strong>Brand:</strong></p>
        <mat-form-field>
          <input matInput placeholder="Brand" formControlName="brand" />
        </mat-form-field>

        <p><strong>Category:</strong></p>
        <mat-form-field style="width: 80%;">
          <mat-select formControlName="category" placeholder="Select a Category">
            <mat-option *ngFor="let category of categories" [value]="category.id">
              {{ category.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field style="width: 15%; margin-left: 10px;">
          <input matInput [(ngModel)]="newCategory" placeholder="New Category" />
        </mat-form-field>
        <button mat-raised-button color="primary" (click)="addCategory()">Add Category</button>

        <p><strong>Stock:</strong></p>
        <mat-form-field>
          <input matInput type="number" placeholder="Stock" formControlName="stock" />
        </mat-form-field>

        <p><strong>Price:</strong></p>
        <mat-form-field>
          <input matInput type="number" placeholder="Price" formControlName="price_unit" />
        </mat-form-field>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button color="primary" type="submit">Save Changes</button>
        <button mat-raised-button color="warn" (click)="goBack()">Back to Products</button>
      </mat-card-actions>
    </form>
  </mat-card>
</div>
<div *ngIf="!product">
  <p>Product not found.</p>
</div>
